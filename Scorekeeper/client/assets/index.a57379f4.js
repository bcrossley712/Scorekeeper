import{r as J,c as f,a as x,o as i,b as d,d as a,e as w,F as R,S as B,f as X,g as $,M as S,w as m,v as _,h as P,i as C,u as ee,j as O,t as p,k as T,l as k,m as te,n as ae,p as oe,q as se,s as H,x as D,y as N,z as j,A as L,B as ne,C as re}from"./vendor.bbfce40b.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}};le();const l=J({user:{},account:{},games:[],activeGame:{},sessions:[],activeSession:{},players:[],activePlayer:{},hands:[],activeHand:{}});var v=(n,e)=>{for(const[o,t]of e)n[o]=t;return n};const ie={name:"App",setup(){return{appState:f(()=>l)}}};function de(n,e,o,t,r,c){const s=x("Navbar"),b=x("router-view");return i(),d(R,null,[a("header",null,[w(s)]),a("main",null,[w(b)])],64)}var ce=v(ie,[["render",de]]);class h{static async confirm(e="Are you sure?",o="You won't be able to revert this!",t="warning",r="Yes, delete it!"){try{return!!(await B.fire({title:e,text:o,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",t="top-end",r=3e3,c=!0){B.fire({title:e,icon:o,position:t,timer:r,timerProgressBar:c,toast:!0,showConfirmButton:!1})}}const M=window.location.origin.includes("localhost"),q=M?"http://localhost:3000":"",ue="dev-bcrossley712.us.auth0.com",me="omph0kyWMR2mKaoZphUvm7lVBfiDkRPf",_e="https://brian-dev.com";function A(n,e){if(M)console[n](`[${n}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(n){case"log":case"assert":return}console[n](`[${n}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const u={log(){A("log",arguments)},error(){A("error",arguments)},warn(){A("warn",arguments)},assert(){A("assert",arguments)},trace(){A("trace",arguments)}},g=X.create({baseURL:q,timeout:8e3});class be{async getGames(){const e=await g.get("api/games");u.log("[getGames]",e.data),l.games=e.data}async getGameById(e){const o=await g.get(`api/games/${e}`);return u.log("[getGameById]",o.data),l.activeGame=o.data,o.data}async addGame(e){const o=await g.post("api/games",e);u.log("[addGame]",o.data),l.games=[...l.games,o.data]}async editGame(e){let o=l.games.findIndex(r=>r.id==e.id);const t=await g.put(`api/games/${e.id}`,e);u.log("[editGame]",t.data),l.games.splice(o,1,t.data)}async deleteGame(e){let o=l.games.findIndex(r=>r.id==e);const t=await g.delete(`api/games/${e}`);u.log("[deleteGame]",t.data),l.games.splice(o,1)}}const G=new be,he={setup(){const n=$({});return{editable:n,async handleSubmit(){try{await G.addGame(n.value),S.getOrCreateInstance(document.getElementById("add-game")).hide(),n.value={}}catch(e){u.error(e),h.toast("Are you logged in?","error","center")}}}}},ge={class:"container-fluid"},pe={class:"col-12"},fe={class:"mb-3"},ve=a("label",{for:"title",class:"form-label"},"Game Title",-1),ye={class:"col-12"},Se={class:"mb-3"},ke=a("label",{for:"Image",class:"form-label"},"Url Image",-1),we={class:"col-12"},$e={class:"mb-3"},xe=a("label",{for:"Scoring",class:"form-label"},"Scoring",-1),Ae={class:"col-12"},Ie={class:"mb-3"},Ee=a("label",{for:"Rules",class:"form-label"},"How to play",-1),Pe={class:"col-6"},Te={class:"form-check"},Ce=a("label",{class:"form-check-label",for:"bidding"}," Bidding game? ",-1),Oe={class:"col-6"},He={class:"form-check"},Ge=a("label",{class:"form-check-label",for:"lowScoreWins"}," Low Score Wins? ",-1),Ve=a("div",{class:"p-2"},[a("button",{class:"btn btn-success"},"Submit")],-1);function Ue(n,e,o,t,r,c){return i(),d("div",ge,[a("form",{class:"row",onSubmit:e[6]||(e[6]=C((...s)=>t.handleSubmit&&t.handleSubmit(...s),["prevent"]))},[a("div",pe,[a("div",fe,[ve,m(a("input",{type:"text",class:"form-control",name:"title",id:"title","onUpdate:modelValue":e[0]||(e[0]=s=>t.editable.title=s),placeholder:"Title...",required:""},null,512),[[_,t.editable.title]])])]),a("div",ye,[a("div",Se,[ke,m(a("input",{type:"text",class:"form-control",name:"Image",id:"Image","onUpdate:modelValue":e[1]||(e[1]=s=>t.editable.image=s),placeholder:"https://thiscatdoesnotexist.com..."},null,512),[[_,t.editable.image]])])]),a("div",we,[a("div",$e,[xe,m(a("input",{type:"text",class:"form-control",name:"Scoring",id:"Scoring","onUpdate:modelValue":e[2]||(e[2]=s=>t.editable.scoring=s),placeholder:"Each hand taken is worth 10..."},null,512),[[_,t.editable.scoring]])])]),a("div",Ae,[a("div",Ie,[Ee,m(a("input",{type:"text",class:"form-control",name:"Rules",id:"Rules","onUpdate:modelValue":e[3]||(e[3]=s=>t.editable.rules=s),placeholder:"Dealer deals 5 cards..."},null,512),[[_,t.editable.rules]])])]),a("div",Pe,[a("div",Te,[m(a("input",{class:"form-check-input",type:"checkbox",value:"false",id:"bidding","onUpdate:modelValue":e[4]||(e[4]=s=>t.editable.bidding=s)},null,512),[[P,t.editable.bidding]]),Ce])]),a("div",Oe,[a("div",He,[m(a("input",{class:"form-check-input",type:"checkbox",value:"false",id:"lowScoreWins","onUpdate:modelValue":e[5]||(e[5]=s=>t.editable.lowScoreWins=s)},null,512),[[P,t.editable.lowScoreWins]]),Ge])]),Ve],32)])}var Re=v(he,[["render",Ue]]),Be=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re});const De={setup(){const n=$({}),e=ee();return O(()=>n.value=l.activeGame),{editable:n,async handleSubmit(){try{await G.editGame(n.value),S.getOrCreateInstance(document.getElementById("edit-game")).hide(),n.value={}}catch(o){u.error(o),h.toast("Are you logged in?","error","center")}},async deleteGame(){try{await h.confirm("Are you sure?","All game data and history will be lost forever!","info","Yes, Delete!")&&await h.confirm("Okay but are you really really sure??","","info","I said yes!")&&(S.getOrCreateInstance(document.getElementById("edit-game")).hide(),await G.deleteGame(l.activeGame.id),e.push({name:"Home"}),h.toast("Game deleted","success"))}catch(o){u.error(o),h.toast(o.message,"error")}}}}},Ne={class:"container-fluid"},je={class:"row"},Le={class:"col-12"},Me={class:"mb-3"},qe=a("label",{for:"title",class:"form-label"},"Game Title",-1),ze={class:"col-12"},We={class:"mb-3"},Fe=a("label",{for:"Image",class:"form-label"},"Url Image",-1),Ke={class:"col-12"},Ye={class:"mb-3"},Qe=a("label",{for:"Scoring",class:"form-label"},"Scoring",-1),Ze={class:"col-12"},Je={class:"mb-3"},Xe=a("label",{for:"Rules",class:"form-label"},"How to play",-1),et={class:"col-6"},tt={class:"form-check"},at=a("label",{class:"form-check-label",for:"bidding"}," Bidding game? ",-1),ot={class:"col-6"},st={class:"form-check"},nt=a("label",{class:"form-check-label",for:"lowScoreWins"}," Low Score Wins? ",-1),rt={class:"d-flex justify-content-between p-2"};function lt(n,e,o,t,r,c){return i(),d("div",Ne,[a("div",je,[a("div",Le,[a("div",Me,[qe,m(a("input",{type:"text",class:"form-control",name:"title",id:"title","onUpdate:modelValue":e[0]||(e[0]=s=>t.editable.title=s),placeholder:"Title...",required:""},null,512),[[_,t.editable.title]])])]),a("div",ze,[a("div",We,[Fe,m(a("input",{type:"text",class:"form-control",name:"Image",id:"Image","onUpdate:modelValue":e[1]||(e[1]=s=>t.editable.image=s),placeholder:"https://thiscatdoesnotexist.com..."},null,512),[[_,t.editable.image]])])]),a("div",Ke,[a("div",Ye,[Qe,m(a("input",{type:"text",class:"form-control",name:"Scoring",id:"Scoring","onUpdate:modelValue":e[2]||(e[2]=s=>t.editable.scoring=s),placeholder:"Each hand taken is worth 10..."},null,512),[[_,t.editable.scoring]])])]),a("div",Ze,[a("div",Je,[Xe,m(a("input",{type:"text",class:"form-control",name:"Rules",id:"Rules","onUpdate:modelValue":e[3]||(e[3]=s=>t.editable.rules=s),placeholder:"Dealer deals 5 cards..."},null,512),[[_,t.editable.rules]])])]),a("div",et,[a("div",tt,[m(a("input",{class:"form-check-input",type:"checkbox",value:"false",id:"bidding","onUpdate:modelValue":e[4]||(e[4]=s=>t.editable.bidding=s)},null,512),[[P,t.editable.bidding]]),at])]),a("div",ot,[a("div",st,[m(a("input",{class:"form-check-input",type:"checkbox",value:"false",id:"lowScoreWins","onUpdate:modelValue":e[5]||(e[5]=s=>t.editable.lowScoreWins=s)},null,512),[[P,t.editable.lowScoreWins]]),nt])]),a("div",rt,[a("button",{class:"btn btn-success",onClick:e[6]||(e[6]=(...s)=>t.handleSubmit&&t.handleSubmit(...s))},"Submit"),a("button",{class:"btn btn-danger",onClick:e[7]||(e[7]=(...s)=>t.deleteGame&&t.deleteGame(...s))},"Delete Game?")])])])}var it=v(De,[["render",lt]]),dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:it});const ct={props:{hand:{type:Object,required:!0}},setup(n){return{game:f(()=>l.activeGame),session:f(()=>l.activeSession),setActiveHand(){l.activeHand=n.hand}}}},ut={key:0,class:"d-flex p-0"},mt={class:"col-3 p-0 border-dark border"},_t={class:"px-1"},bt={class:"col-3 p-0 border-dark border"},ht={class:"px-1"},gt={class:"col-6 p-0 border-dark border"},pt={class:"px-1"},ft={key:1,class:"col-12 p-0 border-dark border"},vt={class:"px-1"},yt={key:1,class:"row"},St={key:0,class:"d-flex p-0"},kt={class:"col-3 p-0 border-dark border"},wt={class:"px-1"},$t={class:"col-3 p-0 border-dark border"},xt={class:"px-1"},At={class:"col-6 p-0 border-dark border"},It={class:"px-1"},Et={key:1,class:"col-12 p-0 border-dark border"},Pt={class:"px-1"};function Tt(n,e,o,t,r,c){return t.session.archived==!1?(i(),d("div",{key:0,class:"row selectable",onClick:e[0]||(e[0]=(...s)=>t.setActiveHand&&t.setActiveHand(...s)),"data-bs-toggle":"modal","data-bs-target":"#edit-hand"},[t.game.bidding==!0?(i(),d("div",ut,[a("div",mt,[a("span",_t,p(o.hand.bid),1)]),a("div",bt,[a("span",ht,p(o.hand.take),1)]),a("div",gt,[a("span",pt,p(o.hand.score),1)])])):(i(),d("div",ft,[a("span",vt,p(o.hand.score),1)]))])):(i(),d("div",yt,[t.game.bidding==!0?(i(),d("div",St,[a("div",kt,[a("span",wt,p(o.hand.bid),1)]),a("div",$t,[a("span",xt,p(o.hand.take),1)]),a("div",At,[a("span",It,p(o.hand.score),1)])])):(i(),d("div",Et,[a("span",Pt,p(o.hand.score),1)]))]))}var Ct=v(ct,[["render",Tt]]),Ot=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ct});class Ht{async getSessionsHands(e){const o=await g.get(`api/sessions/${e}/hands`);u.log("[getSessionsHands]",o.data),l.hands=o.data}async addHand(e){const o=await g.post("api/hands",e);u.log("[addHand]",o.data),l.hands=[...l.hands,o.data]}async editHand(e){let o=l.hands.findIndex(r=>r.id==e.id);const t=await g.put(`api/hands/${e.id}`,e);u.log("[editHand]",t.data),l.hands.splice(o,1,t.data)}async deleteHand(e){let o=l.hands.findIndex(r=>r.id==e);const t=await g.delete(`api/hands/${e}`);u.log("[deleteHand]",t.data),l.hands.splice(o,1)}}const V=new Ht,Gt={setup(){const n=$({}),e=T();return{editable:n,game:f(()=>l.activeGame),async handleSubmit(){try{n.value.playerId=l.activePlayer.id,n.value.sessionId=e.params.id,await V.addHand(n.value),S.getOrCreateInstance(document.getElementById("add-hand")).hide(),n.value={}}catch(o){u.error(o),h.toast("Are you logged in?","error","center")}}}}},Vt={class:"container-fluid"},Ut={key:0,class:"mb-3 col-4"},Rt=a("label",{for:"bid",class:"form-label"},"Bid",-1),Bt={key:1,class:"mb-3 col-4"},Dt=a("label",{for:"Take",class:"form-label"},"Take",-1),Nt={key:2,class:"mb-3 col-4"},jt=a("label",{for:"Score",class:"form-label"},"Score",-1),Lt={key:3,class:"mb-3"},Mt=a("label",{for:"Score",class:"form-label"},"Score",-1),qt=a("div",{class:""},[a("button",{class:"btn btn-success"},"Confirm")],-1);function zt(n,e,o,t,r,c){return i(),d("div",Vt,[a("form",{class:"row",onSubmit:e[4]||(e[4]=C((...s)=>t.handleSubmit&&t.handleSubmit(...s),["prevent"]))},[t.game.bidding==!0?(i(),d("div",Ut,[Rt,m(a("input",{type:"number",class:"form-control",name:"bid",id:"bid","aria-describedby":"helpId",placeholder:"0","onUpdate:modelValue":e[0]||(e[0]=s=>t.editable.bid=s)},null,512),[[_,t.editable.bid]])])):k("",!0),t.game.bidding==!0?(i(),d("div",Bt,[Dt,m(a("input",{type:"number",class:"form-control",name:"Take",id:"Take","aria-describedby":"helpId",placeholder:"0","onUpdate:modelValue":e[1]||(e[1]=s=>t.editable.take=s)},null,512),[[_,t.editable.take]])])):k("",!0),t.game.bidding==!0?(i(),d("div",Nt,[jt,m(a("input",{type:"number",class:"form-control",name:"Score",id:"Score","aria-describedby":"helpId",placeholder:"0","onUpdate:modelValue":e[2]||(e[2]=s=>t.editable.score=s)},null,512),[[_,t.editable.score]])])):(i(),d("div",Lt,[Mt,m(a("input",{type:"number",class:"form-control",name:"Score",id:"Score","aria-describedby":"helpId",placeholder:"0","onUpdate:modelValue":e[3]||(e[3]=s=>t.editable.score=s)},null,512),[[_,t.editable.score]])])),qt],32)])}var Wt=v(Gt,[["render",zt]]),Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wt});const Kt={setup(){const n=$({});return O(()=>{n.value=l.activeHand}),{editable:n,game:f(()=>l.activeGame),async handleSubmit(){try{await V.editHand(n.value),S.getOrCreateInstance(document.getElementById("edit-hand")).hide()}catch(e){u.error(e),h.toast(e.message,"error","center")}},async deleteHand(){try{await h.confirm()&&(await V.deleteHand(l.activeHand.id),S.getOrCreateInstance(document.getElementById("edit-hand")).hide())}catch(e){u.error(e),h.toast(e.message,"error","center")}}}}},Yt={class:"container-fluid"},Qt={class:"row"},Zt={key:0,class:"mb-3 col-4"},Jt=a("label",{for:"bid",class:"form-label"},"Bid",-1),Xt={key:1,class:"mb-3 col-4"},ea=a("label",{for:"Take",class:"form-label"},"Take",-1),ta={key:2,class:"mb-3 col-4"},aa=a("label",{for:"Score",class:"form-label"},"Score",-1),oa={key:3,class:"mb-3"},sa=a("label",{for:"Score",class:"form-label"},"Score",-1),na={class:"d-flex justify-content-between"};function ra(n,e,o,t,r,c){return i(),d("div",Yt,[a("div",Qt,[t.game.bidding==!0?(i(),d("div",Zt,[Jt,m(a("input",{type:"number",class:"form-control",name:"bid",id:"bid","aria-describedby":"helpId",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=s=>t.editable.bid=s)},null,512),[[_,t.editable.bid]])])):k("",!0),t.game.bidding==!0?(i(),d("div",Xt,[ea,m(a("input",{type:"number",class:"form-control",name:"Take",id:"Take","aria-describedby":"helpId",placeholder:"","onUpdate:modelValue":e[1]||(e[1]=s=>t.editable.take=s)},null,512),[[_,t.editable.take]])])):k("",!0),t.game.bidding==!0?(i(),d("div",ta,[aa,m(a("input",{type:"number",class:"form-control",name:"Score",id:"Score","aria-describedby":"helpId",placeholder:"","onUpdate:modelValue":e[2]||(e[2]=s=>t.editable.score=s)},null,512),[[_,t.editable.score]])])):(i(),d("div",oa,[sa,m(a("input",{type:"number",class:"form-control",name:"Score",id:"Score","aria-describedby":"helpId",placeholder:"0","onUpdate:modelValue":e[3]||(e[3]=s=>t.editable.score=s)},null,512),[[_,t.editable.score]])])),a("div",na,[a("button",{class:"btn btn-success",onClick:e[4]||(e[4]=(...s)=>t.handleSubmit&&t.handleSubmit(...s))},"Confirm"),a("button",{class:"btn btn-danger",onClick:e[5]||(e[5]=(...s)=>t.deleteHand&&t.deleteHand(...s))},"Delete?")])])])}var la=v(Kt,[["render",ra]]),ia=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:la});const da="modulepreload",z={},ca="/",I=function(e,o){return!o||o.length===0?e():Promise.all(o.map(t=>{if(t=`${ca}${t}`,t in z)return;z[t]=!0;const r=t.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${c}`))return;const s=document.createElement("link");if(s.rel=r?"stylesheet":da,r||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),r)return new Promise((b,Z)=>{s.addEventListener("load",b),s.addEventListener("error",Z)})})).then(()=>e())};function ua(n){switch(n){case"./pages/AboutPage.vue":return I(()=>import("./AboutPage.a36248f2.js"),["assets/AboutPage.a36248f2.js","assets/vendor.bbfce40b.js"]);case"./pages/AccountPage.vue":return I(()=>import("./AccountPage.7ee443c7.js"),["assets/AccountPage.7ee443c7.js","assets/AccountPage.1d38451d.css","assets/vendor.bbfce40b.js"]);case"./pages/GamePage.vue":return I(()=>import("./GamePage.91f96441.js"),["assets/GamePage.91f96441.js","assets/vendor.bbfce40b.js","assets/SessionsService.046e59c2.js"]);case"./pages/HomePage.vue":return I(()=>import("./HomePage.a9d67e09.js"),["assets/HomePage.a9d67e09.js","assets/HomePage.c90c6c35.css","assets/vendor.bbfce40b.js"]);case"./pages/SessionPage.vue":return I(()=>import("./SessionPage.d238c4f1.js"),["assets/SessionPage.d238c4f1.js","assets/vendor.bbfce40b.js","assets/SessionsService.046e59c2.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+n)))})}}function E(n){return()=>ua(`./pages/${n}.vue`)}const ma=[{path:"/",name:"Home",component:E("HomePage")},{path:"/about",name:"About",component:E("AboutPage")},{path:"/game/:id",name:"Game",component:E("GamePage")},{path:"/session/:id",name:"Session",component:E("SessionPage")},{path:"/account",name:"Account",component:E("AccountPage"),beforeEnter:oe}],W=te({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:ae(),routes:ma});class _a{async getAccount(){try{const e=await g.get("/account");l.account=e.data}catch(e){u.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}}const ba=new _a,ha={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class ga{constructor(e=!1,o=q){}on(e,o){var t;return(t=this.socket)==null||t.on(e,o.bind(this)),this}onConnected(e){u.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){u.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(ha.authenticate,e)}onError(e){u.error("[SOCKET_ERROR]",e)}enqueue(e,o){u.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){u.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class pa extends ga{constructor(){super();this.on("error",this.onError)}onError(e){h.toast(e.message,"error")}}const F=new pa,y=se({domain:ue,clientId:me,audience:_e,useRefreshTokens:!0,onRedirectCallback:n=>{W.push(n&&n.targetUrl?n.targetUrl:window.location.pathname)}});y.on(y.AUTH_EVENTS.AUTHENTICATED,async function(){g.defaults.headers.authorization=y.bearer,g.interceptors.request.use(fa),l.user=y.user,await ba.getAccount(),F.authenticate(y.bearer)});async function fa(n){if(!y.isAuthenticated)return n;const e=y.identity.exp*1e3,o=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return o?await y.loginWithPopup():t&&(await y.getTokenSilently(),g.defaults.headers.authorization=y.bearer,F.authenticate(y.bearer)),n}const va={setup(){return{user:f(()=>l.user),account:f(()=>l.account),async login(){y.loginWithPopup()},async logout(){y.logout({returnTo:window.location.origin})}}}},K=n=>(D("data-v-f7b5cf20"),n=n(),N(),n),ya={class:"navbar-text"},Sa={key:1,class:"dropdown my-2 my-lg-0"},ka={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},wa={key:0},$a=["src"],xa={class:"mx-3 text-success lighten-30"},Aa={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Ia=K(()=>a("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),Ea=K(()=>a("i",{class:"mdi mdi-logout"},null,-1)),Pa=j(" logout "),Ta=[Ea,Pa];function Ca(n,e,o,t,r,c){const s=x("router-link");return i(),d("span",ya,[t.user.isAuthenticated?(i(),d("div",Sa,[a("div",ka,[t.account.picture?(i(),d("div",wa,[a("img",{src:t.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,$a),a("span",xa,p(t.account.name),1)])):k("",!0)]),a("div",Aa,[w(s,{to:{name:"Account"}},{default:H(()=>[Ia]),_:1}),a("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...b)=>t.logout&&t.logout(...b))},Ta)])])):(i(),d("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...b)=>t.login&&t.login(...b))}," Login "))])}var Oa=v(va,[["render",Ca],["__scopeId","data-v-f7b5cf20"]]),Ha=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oa});const Ga={},Va={class:"modal fade",tabindex:"-1"},Ua={class:"modal-dialog modal-dialog-centered",role:"document"},Ra={class:"modal-content"},Ba={class:"modal-header"},Da={class:"modal-title"},Na=a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ja={class:"modal-body"};function La(n,e){return i(),d("div",Va,[a("div",Ua,[a("div",Ra,[a("div",Ba,[a("h5",Da,[L(n.$slots,"title")]),Na]),a("div",ja,[L(n.$slots,"body")])])])])}var Ma=v(Ga,[["render",La]]),qa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ma});const za={setup(){return{games:f(()=>l.games)}}},Y=n=>(D("data-v-24e83b46"),n=n(),N(),n),Wa={class:"navbar navbar-expand-lg navbar-dark bg-dark px-3"},Fa=Y(()=>a("div",{class:"d-flex flex-column align-items-center"},[a("h1",null,"Scorekeeper!")],-1)),Ka=Y(()=>a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),Ya={class:"collapse navbar-collapse",id:"navbarText"},Qa={class:"navbar-nav me-auto"},Za=j(" About ");function Ja(n,e,o,t,r,c){const s=x("router-link"),b=x("Login");return i(),d("nav",Wa,[w(s,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:H(()=>[Fa]),_:1}),Ka,a("div",Ya,[a("ul",Qa,[a("li",null,[w(s,{to:{name:"About"},class:"btn text-success lighten-30 selectable text-uppercase"},{default:H(()=>[Za]),_:1})])]),w(b)])])}var Xa=v(za,[["render",Ja],["__scopeId","data-v-24e83b46"]]),eo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xa});const to={props:{player:{type:Object,required:!0}},setup(n){const e=$({});return T(),{editable:e,hands:f(()=>l.hands.filter(o=>o.playerId==n.player.id)),game:f(()=>l.activeGame),session:f(()=>l.activeSession),totalScore:f(()=>{let o=0;return l.hands.filter(r=>r.playerId==n.player.id).forEach(r=>o+=r.score),o}),setActivePlayer(){l.activePlayer=n.player}}}},ao={class:"row p-2"},oo={class:"col-12 d-flex flex-column"},so={class:"d-flex align-items-center"},no={key:1,class:"m-0 me-4"},ro={class:"row border-bottom border-dark"},lo={key:0,class:"col-3 p-0"},io={key:1,class:"col-3 p-0"},co=a("div",{class:"col-6 p-0"},"SCORE",-1),uo={class:"row"};function mo(n,e,o,t,r,c){const s=x("Hand");return i(),d("div",ao,[a("div",oo,[a("div",so,[t.session.archived==!1?(i(),d("h5",{key:0,onClick:e[0]||(e[0]=(...b)=>t.setActivePlayer&&t.setActivePlayer(...b)),class:"m-0 me-4 selectable","data-bs-toggle":"modal","data-bs-target":"#player-edit"},p(o.player.name),1)):(i(),d("h5",no,p(o.player.name),1)),t.session.archived==!1?(i(),d("i",{key:2,class:"mdi mdi-plus selectable text-dark fs-5",title:"Add hand",onClick:e[1]||(e[1]=(...b)=>t.setActivePlayer&&t.setActivePlayer(...b)),"data-bs-toggle":"modal","data-bs-target":"#add-hand"})):k("",!0)]),a("div",ro,[t.game.bidding==!0?(i(),d("div",lo,"BID")):k("",!0),t.game.bidding==!0?(i(),d("div",io,"TAKE")):k("",!0),co]),a("div",uo,[(i(!0),d(R,null,ne(t.hands,b=>(i(),d("div",{class:"col-12",key:b.id},[w(s,{hand:b},null,8,["hand"])]))),128))]),a("h5",null,"Total = "+p(t.totalScore),1)])])}var _o=v(to,[["render",mo]]),bo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_o});class ho{async getSessionsPlayers(e){const o=await g.get(`api/sessions/${e}/players`);u.log("[getSessionsPlayers]",o.data),l.players=o.data}async addPlayer(e){const o=await g.post("api/players",e);u.log("[addPlayers]",o.data),l.players=[...l.players,o.data]}async editPlayer(e){u.error("Not set up")}async deletePlayer(e){u.error("Not set up")}}const U=new ho,go={setup(n){const e=$({}),o=T();return{editable:e,async handleSubmit(){try{e.value.sessionId=o.params.id,await U.addPlayer(e.value),S.getOrCreateInstance(document.getElementById("player-add")).hide(),e.value={}}catch(t){u.error(t),h.toast("Are you logged in?","error","center")}}}}},po={class:"container-fluid"},fo={class:"mb-3 col-12"},vo=a("label",{for:"name",class:"form-label"},"Name",-1),yo=a("div",{class:""},[a("button",{class:"btn btn-success"},"Confirm")],-1);function So(n,e,o,t,r,c){return i(),d("div",po,[a("form",{onSubmit:e[1]||(e[1]=C((...s)=>t.handleSubmit&&t.handleSubmit(...s),["prevent"])),class:"row"},[a("div",fo,[vo,m(a("input",{type:"text",class:"form-control",name:"name",id:"name","aria-describedby":"helpId",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=s=>t.editable.name=s),required:""},null,512),[[_,t.editable.name]])]),yo],32)])}var ko=v(go,[["render",So]]),wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ko});const $o={setup(n){const e=$({});return T(),O(()=>{e.value=l.activePlayer}),{editable:e,async handleSubmit(){try{await U.editPlayer(e.value),S.getOrCreateInstance(document.getElementById("player-edit")).hide(),e.value={}}catch(o){u.error(o),h.toast(o.message,"error")}},async deletePlayer(){try{await h.confirm()&&(await U.deletePlayer(l.activePlayer.id),S.getOrCreateInstance(document.getElementById("player-edit")).hide(),h.toast("Player deleted","success"))}catch(o){u.error(o),h.toast(o.message,"error")}}}}},xo={class:"container-fluid"},Ao={class:"row"},Io={class:"mb-3 col-12"},Eo=a("label",{for:"name",class:"form-label"},"Name",-1),Po={class:"d-flex justify-content-between"},To={class:""},Co={class:""};function Oo(n,e,o,t,r,c){return i(),d("div",xo,[a("div",Ao,[a("div",Io,[Eo,m(a("input",{type:"text",class:"form-control",name:"name",id:"name","aria-describedby":"helpId",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=s=>t.editable.name=s),required:""},null,512),[[_,t.editable.name]])]),a("div",Po,[a("div",To,[a("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...s)=>t.handleSubmit&&t.handleSubmit(...s))},"Confirm")]),a("div",Co,[a("button",{class:"btn btn-danger",onClick:e[2]||(e[2]=(...s)=>t.deletePlayer&&t.deletePlayer(...s))}," Delete Player ")])])])])}var Ho=v($o,[["render",Oo]]),Go=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ho});const Vo={props:{session:{type:Object,required:!0}},setup(n){return{date:f(()=>new Date(n.session.createdAt).toLocaleString())}}},Uo={class:"m-0"};function Ro(n,e,o,t,r,c){return i(),d("h3",Uo,p(t.date)+" || "+p(o.session.winner),1)}var Bo=v(Vo,[["render",Ro]]),Do=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bo});function No(n){Object.entries({"./components/GameAddForm.vue":Be,"./components/GameEditForm.vue":dt,"./components/Hand.vue":Ot,"./components/HandAddForm.vue":Ft,"./components/HandEditForm.vue":ia,"./components/Login.vue":Ha,"./components/Modal.vue":qa,"./components/Navbar.vue":eo,"./components/Player.vue":bo,"./components/PlayerAddForm.vue":wo,"./components/PlayerEditForm.vue":Go,"./components/Session.vue":Do}).forEach(([o,t])=>{const r=t.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");n.component(r,t.default)})}const Q=re(ce);No(Q);Q.use(W).mount("#app");export{l as A,h as P,v as _,g as a,G as g,V as h,u as l,U as p};
