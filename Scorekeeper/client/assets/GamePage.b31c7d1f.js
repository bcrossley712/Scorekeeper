import{k as y,u as G,D as k,c as d,a as m,o as n,b as i,d as t,l as _,t as x,F as u,B as C,e as l,s as g,z as B}from"./vendor.bbfce40b.js";import{_ as E,A as r,g as p,l as h,P as v}from"./index.2fec108f.js";import{s as S}from"./SessionsService.df937d66.js";const N={setup(){const c=y(),o=G();return k(async()=>{try{r.activeGame=await p.getGameById(c.params.id),await S.getGamesSessions(c.params.id),await p.getGames()}catch(e){h.error(e),v.toast(e.message,"error")}}),{sessions:d(()=>r.sessions),game:d(()=>r.activeGame),user:d(()=>r.user),goTo(e){o.push({name:"Session",params:{id:e}})},async newSession(){try{const e={gameId:r.activeGame.id},s=await S.addSession(e);o.push({name:"Session",params:{id:s.id}})}catch(e){h.error(e),v.toast(e.message,"error")}}}}},j={class:"container-fluid"},A={class:"row"},F={class:"col-12 p-2 d-flex justify-content-between"},V={class:"text-center"},M={key:1,class:"mdi mdi-pencil selectable text-warning me-4",title:"Edit Game","data-bs-toggle":"modal","data-bs-target":"#edit-game"},P={class:"row"},R=t("div",{class:"col-6"},"Game Rules",-1),T={class:"col-6 bg-dark p-3"},D=t("h4",null,"Game History",-1),I=["onClick"],z=B("Edit Game?");function H(c,o,e,s,L,q){const b=m("Session"),f=m("GameEditForm"),w=m("Modal");return n(),i(u,null,[t("div",j,[t("div",A,[t("div",F,[s.user.isAuthenticated?(n(),i("button",{key:0,class:"btn btn-primary",onClick:o[0]||(o[0]=(...a)=>s.newSession&&s.newSession(...a))}," New Session ")):_("",!0),t("div",V,[t("h2",null,x(s.game.title),1)]),s.user.isAuthenticated?(n(),i("i",M)):_("",!0)])]),t("div",P,[R,t("div",T,[D,(n(!0),i(u,null,C(s.sessions,a=>(n(),i("div",{onClick:J=>s.goTo(a.id),class:"rounded bg-white text-dark p-1 m-2 selectable",key:a.id},[l(b,{session:a},null,8,["session"])],8,I))),128))])])]),l(w,{id:"edit-game"},{title:g(()=>[z]),body:g(()=>[l(f)]),_:1})],64)}var U=E(N,[["render",H]]);export{U as default};
